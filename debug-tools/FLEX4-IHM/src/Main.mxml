<?xml version="1.0" encoding="utf-8"?>

<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml"
				layout="horizontal"
				horizontalAlign="center" height="100%" width="80%"
				verticalAlign="middle" initialize="init();" creationComplete="onStartup()"
				error="ErrorHandlerService(event)" xmlns:maps="com.google.maps.*" xmlns:formulaires="formulaires.*">
	
	<mx:Script source="included_ressources.as" />
	<mx:Script source="Main.as" />
	
	<mx:RemoteObject id="roDiagnostique"
					 destination="zend"
					 source="GEVU_Diagnostique"
					 fault="faultHandlerService(event, &quot;Remote Object&quot;);">
		<mx:method name="getFields"		result="displayNodeProperties( event );" />
		<mx:method name="getXmlNode"	result="updateTreeStructure( event );" />
	</mx:RemoteObject>

	<mx:HBox width="80%" height="100%" horizontalAlign="center">
		<mx:Tree id="treeTree" labelField="@lib" iconField="@icon" showRoot="false"
			height="100%" width="40%"
			itemOpening="treeItemOpened( event );"
			change="treeItemClicked( event );"/>
		<mx:TabNavigator width="60%" height="100%">
			<mx:Canvas label="Map" width="100%" height="100%" id="MapTab">
				<formulaires:formulaire_batiments id="map" height="100%" width="100%" />
			</mx:Canvas>
			<mx:Canvas label="General" width="100%" height="100%">
				<formulaires:formulaire_autres id="FormulaireGeneral" />
			</mx:Canvas>
			<mx:Canvas label="Autres" width="100%" height="100%">
				<formulaires:formulaire_autres id="FormulaireAutre" />
			</mx:Canvas>
		</mx:TabNavigator>
	</mx:HBox>
	
	<mx:VBox width="20%" height="100%" horizontalAlign="center" verticalAlign="middle">
		<mx:TextArea id="debugTest" width="100%" height="90%" editable="false"  wordWrap="false"/>
		<mx:Button id="testButton" label="change" click="testButtonClicked();"/>
	</mx:VBox>
	
</mx:Application>
