/* Copyright 2011 Google Inc. All Rights Reserved. */ (function(){function h(a){throw a;}
var i=void 0,j=!0,k=null,l=!1,n,aa=aa||{},o=this,ba=function(a){for(var a=a.split("."),b=o,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b},ca=function(){},q=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";
if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},da=function(a){var b=q(a);return"array"==b||"object"==b&&"number"==typeof a.length},t=function(a){return"string"==typeof a},ea=function(a){var b=typeof a;return"object"==b&&a!=k||"function"==b},ha=function(a){return a[fa]||(a[fa]=++ga)},fa="closure_uid_"+Math.floor(2147483648*
Math.random()).toString(36),ga=0,ia=function(a,b,c){return a.call.apply(a.bind,arguments)},ja=function(a,b,c){a||h(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},v=function(a,b,c){v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return v.apply(k,arguments)},
la=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}},ma=Date.now||function(){return+new Date},w=function(a,b){var c=a.split("."),d=o;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&b!==i?d[f]=b:d=d[f]?d[f]:d[f]={}},x=function(a,b){function c(){}c.prototype=b.prototype;a.O=b.prototype;a.prototype=new c};
Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return v.apply(k,c)}return v(this,a)};var na=function(a){Error.captureStackTrace?Error.captureStackTrace(this,na):this.stack=Error().stack||"";a&&(this.message=""+a)};x(na,Error);na.prototype.name="CustomError";var y=function(a,b){for(var c=1;c<arguments.length;c++)var d=(""+arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a},oa=/^[a-zA-Z0-9\-_.!~*'()]*$/,pa=function(a){a=""+a;return!oa.test(a)?encodeURIComponent(a):a},z=function(a){if(!qa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ra,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(sa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ta,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ua,"&quot;"));return a},ra=/&/g,sa=/</g,ta=/>/g,ua=/\"/g,qa=/[&<>\"]/;var va=function(a,b){b.unshift(a);na.call(this,y.apply(k,b));b.shift()};x(va,na);va.prototype.name="AssertionError";var wa=function(a,b,c){if(!a){var d=Array.prototype.slice.call(arguments,2),f="Assertion failed";if(b)var f=f+(": "+b),e=d;h(new va(""+f,e||[]))}},xa=function(a,b){h(new va("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var A=Array.prototype,ya=A.indexOf?function(a,b,c){wa(a.length!=k);return A.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(t(a))return!t(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},za=A.forEach?function(a,b,c){wa(a.length!=k);A.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=t(a)?a.split(""):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)},Aa=function(a){return A.concat.apply(A,arguments)},Ba=function(a){if("array"==
q(a))return Aa(a);for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b},Ca=function(a,b,c){wa(a.length!=k);return 2>=arguments.length?A.slice.call(a,b):A.slice.call(a,b,c)};var C=function(a,b){this.width=a;this.height=b};C.prototype.pa=function(){return new C(this.width,this.height)};C.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};C.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};C.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var Da=function(a,b){for(var c in a)b.call(i,a[c],c,a)},Ea=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Fa=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Ga="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Ha=function(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var e=0;e<Ga.length;e++)c=Ga[e],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var D,Ia,Ja,Ka,La=function(){return o.navigator?o.navigator.userAgent:k};Ka=Ja=Ia=D=l;var Ma;if(Ma=La()){var Na=o.navigator;D=0==Ma.indexOf("Opera");Ia=!D&&-1!=Ma.indexOf("MSIE");Ja=!D&&-1!=Ma.indexOf("WebKit");Ka=!D&&!Ja&&"Gecko"==Na.product}var Oa=D,E=Ia,F=Ka,G=Ja,Pa;
a:{var Qa="",Ra;if(Oa&&o.opera)var Sa=o.opera.version,Qa="function"==typeof Sa?Sa():Sa;else if(F?Ra=/rv\:([^\);]+)(\)|;)/:E?Ra=/MSIE\s+([^\);]+)(\)|;)/:G&&(Ra=/WebKit\/(\S+)/),Ra)var Ta=Ra.exec(La()),Qa=Ta?Ta[1]:"";if(E){var Ua,Va=o.document;Ua=Va?Va.documentMode:i;if(Ua>parseFloat(Qa)){Pa=""+Ua;break a}}Pa=Qa}
var Wa=Pa,Xa={},H=function(a){var b;if(!(b=Xa[a])){b=0;for(var c=(""+Wa).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=(""+a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(c.length,d.length),e=0;0==b&&e<f;e++){var g=c[e]||"",m=d[e]||"",r=RegExp("(\\d*)(\\D*)","g"),s=RegExp("(\\d*)(\\D*)","g");do{var u=r.exec(g)||["","",""],p=s.exec(m)||["","",""];if(0==u[0].length&&0==p[0].length)break;b=((0==u[1].length?0:parseInt(u[1],10))<(0==p[1].length?0:parseInt(p[1],10))?-1:(0==u[1].length?
0:parseInt(u[1],10))>(0==p[1].length?0:parseInt(p[1],10))?1:0)||((0==u[2].length)<(0==p[2].length)?-1:(0==u[2].length)>(0==p[2].length)?1:0)||(u[2]<p[2]?-1:u[2]>p[2]?1:0)}while(0==b)}b=Xa[a]=0<=b}return b},Ya={},Za=function(){return Ya[9]||(Ya[9]=E&&!!document.documentMode&&9<=document.documentMode)};var $a=!E||Za();!F&&!E||E&&Za()||F&&H("1.9.1");E&&H("9");var ab=function(a,b){var c;c=a.className;c=t(c)&&c.match(/\S+/g)||[];for(var d=Ca(arguments,1),f=c.length+d.length,e=c,g=0;g<d.length;g++)0<=ya(e,d[g])||e.push(d[g]);a.className=c.join(" ");return c.length==f};var bb=function(a,b,c){c=c||document;a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(!G||"CSS1Compat"==document.compatMode||H("528"))&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},f=0,e=0,g;g=c[e];e++)a==g.nodeName&&(d[f++]=g);d.length=f;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(e=f=0;g=c[e];e++)a=g.className,"function"==typeof a.split&&0<=ya(a.split(/\s+/),b)&&(d[f++]=
g);d.length=f;return d}return c},db=function(a,b){Da(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in cb?a.setAttribute(cb[d],b):0==d.lastIndexOf("aria-",0)?a.setAttribute(d,b):a[d]=b})},cb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"},I=function(a,b,c){var d=arguments,f=document,e=d[0],
g=d[1];if(!$a&&g&&(g.name||g.type)){e=["<",e];g.name&&e.push(' name="',z(g.name),'"');if(g.type){e.push(' type="',z(g.type),'"');var m={};Ha(m,g);g=m;delete g.type}e.push(">");e=e.join("")}e=f.createElement(e);g&&(t(g)?e.className=g:"array"==q(g)?ab.apply(k,[e].concat(g)):db(e,g));2<d.length&&eb(f,e,d);return e},eb=function(a,b,c){function d(c){c&&b.appendChild(t(c)?a.createTextNode(c):c)}for(var f=2;f<c.length;f++){var e=c[f];if(da(e)&&!(ea(e)&&0<e.nodeType)){var g;a:{if(e&&"number"==typeof e.length){if(ea(e)){g=
"function"==typeof e.item||"string"==typeof e.item;break a}if("function"==q(e)){g="function"==typeof e.item;break a}}g=l}za(g?Ba(e):e,d)}else d(e)}},fb=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)};var gb="StopIteration"in o?o.StopIteration:Error("StopIteration"),hb=function(){};hb.prototype.next=function(){h(gb)};hb.prototype.fb=function(){return this};var ib=function(a){if("function"==typeof a.R)return a.R();if(t(a))return a.split("");if(da(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ea(a)},jb=function(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(da(a)||t(a))za(a,b,c);else{var d;if("function"==typeof a.ja)d=a.ja();else if("function"!=typeof a.R)if(da(a)||t(a)){d=[];for(var f=a.length,e=0;e<f;e++)d.push(e)}else d=Fa(a);else d=i;for(var f=ib(a),e=f.length,g=0;g<e;g++)b.call(c,f[g],d&&d[g],a)}};var J=function(a,b){this.i={};this.e=[];var c=arguments.length;if(1<c){c%2&&h(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof J?(c=a.ja(),d=a.R()):(c=Fa(a),d=Ea(a));for(var f=0;f<c.length;f++)this.set(c[f],d[f])}};J.prototype.d=0;J.prototype.fa=0;J.prototype.R=function(){kb(this);for(var a=[],b=0;b<this.e.length;b++)a.push(this.i[this.e[b]]);return a};J.prototype.ja=function(){kb(this);return this.e.concat()};
var kb=function(a){if(a.d!=a.e.length){for(var b=0,c=0;b<a.e.length;){var d=a.e[b];Object.prototype.hasOwnProperty.call(a.i,d)&&(a.e[c++]=d);b++}a.e.length=c}if(a.d!=a.e.length){for(var f={},c=b=0;b<a.e.length;)d=a.e[b],Object.prototype.hasOwnProperty.call(f,d)||(a.e[c++]=d,f[d]=1),b++;a.e.length=c}};J.prototype.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.i,a)?this.i[a]:b};
J.prototype.set=function(a,b){Object.prototype.hasOwnProperty.call(this.i,a)||(this.d++,this.e.push(a),this.fa++);this.i[a]=b};J.prototype.pa=function(){return new J(this)};J.prototype.fb=function(a){kb(this);var b=0,c=this.e,d=this.i,f=this.fa,e=this,g=new hb;g.next=function(){for(;;){f!=e.fa&&h(Error("The map has changed since the iterator was created"));b>=c.length&&h(gb);var g=c[b++];return a?g:d[g]}};return g};var lb=function(a,b){if("FORM"==a.tagName)for(var c=a.elements,d=0;a=c[d];d++)lb(a,b);else b==j&&a.blur(),a.disabled=b};var mb=function(a){mb[" "](a);return a};mb[" "]=ca;!E||Za();var nb=!E||Za(),ob=E&&!H("8");!G||H("528");F&&H("1.9b")||E&&H("8")||Oa&&H("9.5")||G&&H("528");F&&!H("8")||E&&H("9");var pb=function(){};pb.prototype.La=l;pb.prototype.H=function(){this.La||(this.La=j,this.m())};pb.prototype.m=function(){this.hb&&qb.apply(k,this.hb)};var qb=function(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];da(d)?qb.apply(k,d):d&&"function"==typeof d.H&&d.H()}};var K=function(a,b){this.type=a;this.currentTarget=this.target=b};x(K,pb);n=K.prototype;n.m=function(){delete this.type;delete this.target;delete this.currentTarget};n.A=l;n.defaultPrevented=l;n.Q=j;n.preventDefault=function(){this.defaultPrevented=j;this.Q=l};var L=function(a,b){a&&this.N(a,b)};x(L,K);n=L.prototype;n.target=k;n.relatedTarget=k;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=l;n.altKey=l;n.shiftKey=l;n.metaKey=l;n.ka=k;
n.N=function(a,b){var c=this.type=a.type;K.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(F){var f;a:{try{mb(d.nodeName);f=j;break a}catch(e){}f=l}f||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=G||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=G||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.ka=a;a.defaultPrevented&&this.preventDefault();delete this.A};
n.preventDefault=function(){L.O.preventDefault.call(this);var a=this.ka;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,ob)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};n.m=function(){L.O.m.call(this);this.relatedTarget=this.currentTarget=this.target=this.ka=k};var rb=function(){},sb=0;n=rb.prototype;n.key=0;n.z=l;n.Fa=l;n.N=function(a,b,c,d,f,e){"function"==q(a)?this.Ea=j:a&&a.handleEvent&&"function"==q(a.handleEvent)?this.Ea=l:h(Error("Invalid listener argument"));this.F=a;this.wa=b;this.src=c;this.type=d;this.capture=!!f;this.ca=e;this.Fa=l;this.key=++sb;this.z=l};n.handleEvent=function(a){return this.Ea?this.F.call(this.ca||this.src,a):this.F.handleEvent.call(this.F,a)};var M={},N={},O={},P={},tb=function(a,b,c,d,f){if(b)if("array"==q(b))for(var e=0;e<b.length;e++)tb(a,b[e],c,d,f);else{var d=!!d,g=N;b in g||(g[b]={d:0,h:0});g=g[b];d in g||(g[d]={d:0,h:0},g.d++);var g=g[d],m=ha(a),r;g.h++;if(g[m]){r=g[m];for(e=0;e<r.length;e++)if(g=r[e],g.F==c&&g.ca==f){if(g.z)break;return}}else r=g[m]=[],g.d++;e=ub();e.src=a;g=new rb;g.N(c,e,a,b,d,f);c=g.key;e.key=c;r.push(g);M[c]=g;O[m]||(O[m]=[]);O[m].push(g);a.addEventListener?(a==o||!a.va)&&a.addEventListener(b,e,d):a.attachEvent(b in
P?P[b]:P[b]="on"+b,e)}else h(Error("Invalid event type"))},ub=function(){var a=vb,b=nb?function(c){return a.call(b.src,b.key,c)}:function(c){c=a.call(b.src,b.key,c);if(!c)return c};return b},wb=function(a,b,c,d,f){if("array"==q(b))for(var e=0;e<b.length;e++)wb(a,b[e],c,d,f);else{d=!!d;a:{e=N;if(b in e&&(e=e[b],d in e&&(e=e[d],a=ha(a),e[a]))){a=e[a];break a}a=k}if(a)for(e=0;e<a.length;e++)if(a[e].F==c&&a[e].capture==d&&a[e].ca==f){xb(a[e].key);break}}},xb=function(a){if(M[a]){var b=M[a];if(!b.z){var c=
b.src,d=b.type,f=b.wa,e=b.capture;c.removeEventListener?(c==o||!c.va)&&c.removeEventListener(d,f,e):c.detachEvent&&c.detachEvent(d in P?P[d]:P[d]="on"+d,f);c=ha(c);f=N[d][e][c];if(O[c]){var g=O[c],m=ya(g,b);0<=m&&(wa(g.length!=k),A.splice.call(g,m,1));0==g.length&&delete O[c]}b.z=j;f.Ca=j;yb(d,e,c,f);delete M[a]}}},yb=function(a,b,c,d){if(!d.P&&d.Ca){for(var f=0,e=0;f<d.length;f++)d[f].z?d[f].wa.src=k:(f!=e&&(d[e]=d[f]),e++);d.length=e;d.Ca=l;0==e&&(delete N[a][b][c],N[a][b].d--,0==N[a][b].d&&(delete N[a][b],
N[a].d--),0==N[a].d&&delete N[a])}},zb=function(a){var b,c=0,d=b==k;b=!!b;if(a==k)Da(O,function(a){for(var e=a.length-1;0<=e;e--){var f=a[e];if(d||b==f.capture)xb(f.key),c++}});else if(a=ha(a),O[a])for(var a=O[a],f=a.length-1;0<=f;f--){var e=a[f];if(d||b==e.capture)xb(e.key),c++}},Bb=function(a,b,c,d,f){var e=1,b=ha(b);if(a[b]){a.h--;a=a[b];a.P?a.P++:a.P=1;try{for(var g=a.length,m=0;m<g;m++){var r=a[m];r&&!r.z&&(e&=Ab(r,f)!==l)}}finally{a.P--,yb(c,d,b,a)}}return Boolean(e)},Ab=function(a,b){var c=
a.handleEvent(b);a.Fa&&xb(a.key);return c},vb=function(a,b){if(!M[a])return j;var c=M[a],d=c.type,f=N;if(!(d in f))return j;var f=f[d],e,g;if(!nb){e=b||ba("window.event");var m=j in f,r=l in f;if(m){if(0>e.keyCode||e.returnValue!=i)return j;a:{var s=l;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(u){s=j}if(s||e.returnValue==i)e.returnValue=j}}s=new L;s.N(e,this);e=j;try{if(m){for(var p=[],ka=s.currentTarget;ka;ka=ka.parentNode)p.push(ka);g=f[j];g.h=g.d;for(var B=p.length-1;!s.A&&0<=B&&g.h;B--)s.currentTarget=
p[B],e&=Bb(g,p[B],d,j,s);if(r){g=f[l];g.h=g.d;for(B=0;!s.A&&B<p.length&&g.h;B++)s.currentTarget=p[B],e&=Bb(g,p[B],d,l,s)}}else e=Ab(c,s)}finally{p&&(p.length=0),s.H()}return e}d=new L(b,this);try{e=Ab(c,d)}finally{d.H()}return e};var Db=function(a){return Cb(a||arguments.callee.caller,[])},Cb=function(a,b){var c=[];if(0<=ya(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Eb(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){0<f&&c.push(", ");var e;e=d[f];switch(typeof e){case "object":e=e?"object":"null";break;case "string":break;case "number":e=""+e;break;case "boolean":e=e?"true":"false";break;case "function":e=(e=Eb(e))?e:"[fn]";break;default:e=typeof e}40<e.length&&(e=e.substr(0,40)+"...");c.push(e)}b.push(a);
c.push(")\n");try{c.push(Cb(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")},Eb=function(a){if(Fb[a])return Fb[a];a=""+a;if(!Fb[a]){var b=/function ([^\(]+)/.exec(a);Fb[a]=b?b[1]:"[Anonymous]"}return Fb[a]},Fb={};var Gb=function(a,b,c,d,f){this.reset(a,b,c,d,f)};Gb.prototype.Ia=k;Gb.prototype.Ha=k;var Hb=0;Gb.prototype.reset=function(a,b,c,d,f){"number"==typeof f||Hb++;d||ma();this.I=a;this.$a=b;delete this.Ia;delete this.Ha};Gb.prototype.Ka=function(a){this.I=a};var Q=function(a){this.cb=a};Q.prototype.S=k;Q.prototype.I=k;Q.prototype.la=k;Q.prototype.Ma=k;var Ib=function(a,b){this.name=a;this.value=b};Ib.prototype.toString=function(){return this.name};var Jb=new Ib("SEVERE",1E3),Kb=new Ib("WARNING",900),Lb=new Ib("CONFIG",700),Mb=new Ib("FINE",500);Q.prototype.getParent=function(){return this.S};Q.prototype.Ka=function(a){this.I=a};var Nb=function(a){if(a.I)return a.I;if(a.S)return Nb(a.S);xa("Root logger has no level set.");return k};
Q.prototype.log=function(a,b,c){if(a.value>=Nb(this).value){a=this.eb(a,b,c);b="log:"+a.$a;o.console&&(o.console.timeStamp?o.console.timeStamp(b):o.console.markTimeline&&o.console.markTimeline(b));o.msWriteProfilerMark&&o.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.Ma)for(var f=0,e=i;e=c.Ma[f];f++)e(d);b=b.getParent()}}};
Q.prototype.eb=function(a,b,c){var d=new Gb(a,""+b,this.cb);if(c){d.Ia=c;var f;var e=arguments.callee.caller;try{var g;var m=ba("window.location.href");if(t(c))g={message:c,name:"Unknown error",lineNumber:"Not available",fileName:m,stack:"Not available"};else{var r,s,u=l;try{r=c.lineNumber||c.pb||"Not available"}catch(p){r="Not available",u=j}try{s=c.fileName||c.filename||c.sourceURL||m}catch(ka){s="Not available",u=j}g=u||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:r,
fileName:s,stack:c.stack||"Not available"}:c}f="Message: "+z(g.message)+'\nUrl: <a href="view-source:'+g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+z(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+z(Db(e)+"-> ")}catch(B){f="Exception trying to expose exception! You win, we lose. "+B}d.Ha=f}return d};
var R=function(a,b){a.log(Mb,b,i)},Ob={},Pb=k,Qb=function(a){Pb||(Pb=new Q(""),Ob[""]=Pb,Pb.Ka(Lb));var b;if(!(b=Ob[a])){b=new Q(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Qb(a.substr(0,c));c.la||(c.la={});c.la[d]=b;b.S=c;Ob[a]=b}return b};var Rb=function(){};x(Rb,pb);n=Rb.prototype;n.va=j;n.ea=k;n.addEventListener=function(a,b,c,d){tb(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){wb(this,a,b,c,d)};
n.dispatchEvent=function(a){var b=a.type||a,c=N;if(b in c){if(t(a))a=new K(a,this);else if(a instanceof K)a.target=a.target||this;else{var d=a,a=new K(b,this);Ha(a,d)}var d=1,f,c=c[b],b=j in c,e;if(b){f=[];for(e=this;e;e=e.ea)f.push(e);e=c[j];e.h=e.d;for(var g=f.length-1;!a.A&&0<=g&&e.h;g--)a.currentTarget=f[g],d&=Bb(e,f[g],a.type,j,a)&&a.Q!=l}if(l in c)if(e=c[l],e.h=e.d,b)for(g=0;!a.A&&g<f.length&&e.h;g++)a.currentTarget=f[g],d&=Bb(e,f[g],a.type,l,a)&&a.Q!=l;else for(f=this;!a.A&&f&&e.h;f=f.ea)a.currentTarget=
f,d&=Bb(e,f,a.type,l,a)&&a.Q!=l;a=Boolean(d)}else a=j;return a};n.m=function(){Rb.O.m.call(this);zb(this);this.ea=k};var Sb=function(a){a=""+a;if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}h(Error("Invalid JSON string: "+a))};var Tb=o.window;var Ub=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Vb=G,Wb=function(a,b){if(Vb){Vb=l;var c=o.location;if(c){var d=c.href;if(d&&(d=(d=Wb(3,d))&&decodeURIComponent(d))&&d!=c.hostname)Vb=j,h(Error())}}return b.match(Ub)[a]||k};var Xb=function(){};Xb.prototype.M=k;var Yb,Zb=function(){};x(Zb,Xb);var ac=function(a){return(a=$b(a))?new ActiveXObject(a):new XMLHttpRequest},bc=function(a){var b={};$b(a)&&(b[0]=j,b[1]=j);return b};Zb.prototype.ma=k;var $b=function(a){if(!a.ma&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.ma=d}catch(f){}}h(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.ma};
Yb=new Zb;var S=function(a){this.headers=new J;this.s=a||k};x(S,Rb);S.prototype.g=Qb("goog.net.XhrIo");var cc=/^https?$/i,dc=[],fc=function(a,b,c){var d=new S;dc.push(d);b&&tb(d,"complete",b);tb(d,"ready",la(ec,d));d.send(a,"POST",c,i)},ec=function(a){a.H();a=ya(dc,a);0<=a&&(wa(dc.length!=k),A.splice.call(dc,a,1))};n=S.prototype;n.j=l;n.b=k;n.K=k;n.U="";n.oa="";n.C="";n.V=l;n.J=l;n.T=l;n.q=l;n.L=0;n.n=k;n.qa="";n.Qa=l;
n.send=function(a,b,c,d){this.b&&h(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.U=a;this.C="";this.oa=b;this.V=l;this.j=j;this.b=this.s?ac(this.s):ac(Yb);this.K=this.s?this.s.M||(this.s.M=bc(this.s)):Yb.M||(Yb.M=bc(Yb));this.b.onreadystatechange=v(this.na,this);try{R(this.g,T(this,"Opening Xhr")),this.T=j,this.b.open(b,a,j),this.T=l}catch(f){R(this.g,T(this,"Error opening Xhr: "+f.message));gc(this,f);return}var a=c||"",e=this.headers.pa();d&&jb(d,
function(a,b){e.set(b,a)});"POST"==b&&!Object.prototype.hasOwnProperty.call(e.i,"Content-Type")&&e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");jb(e,function(a,b){this.b.setRequestHeader(b,a)},this);this.qa&&(this.b.responseType=this.qa);"withCredentials"in this.b&&(this.b.withCredentials=this.Qa);try{this.n&&(Tb.clearTimeout(this.n),this.n=k),0<this.L&&(R(this.g,T(this,"Will abort after "+this.L+"ms if incomplete")),this.n=Tb.setTimeout(v(this.Pa,this),this.L)),R(this.g,
T(this,"Sending request")),this.J=j,this.b.send(a),this.J=l}catch(g){R(this.g,T(this,"Send error: "+g.message)),gc(this,g)}};n.Pa=function(){"undefined"!=typeof aa&&this.b&&(this.C="Timed out after "+this.L+"ms, aborting",R(this.g,T(this,this.C)),this.dispatchEvent("timeout"),this.abort(8))};var gc=function(a,b){a.j=l;a.b&&(a.q=j,a.b.abort(),a.q=l);a.C=b;hc(a);ic(a)},hc=function(a){a.V||(a.V=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))};
S.prototype.abort=function(){this.b&&this.j&&(R(this.g,T(this,"Aborting")),this.j=l,this.q=j,this.b.abort(),this.q=l,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ic(this))};S.prototype.m=function(){this.b&&(this.j&&(this.j=l,this.q=j,this.b.abort(),this.q=l),ic(this,j));S.O.m.call(this)};S.prototype.na=function(){!this.T&&!this.J&&!this.q?this.ab():jc(this)};S.prototype.ab=function(){jc(this)};
var jc=function(a){if(a.j&&"undefined"!=typeof aa)if(a.K[1]&&4==kc(a)&&2==lc(a))R(a.g,T(a,"Local request error detected and ignored"));else if(a.J&&4==kc(a))Tb.setTimeout(v(a.na,a),0);else if(a.dispatchEvent("readystatechange"),4==kc(a)){R(a.g,T(a,"Request complete"));a.j=l;try{var b=lc(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var f;if(f=0===b){var e=Wb(1,""+a.U);if(!e&&self.location)var g=self.location.protocol,e=g.substr(0,g.length-
1);f=!cc.test(e?e.toLowerCase():"")}c=f}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var m;try{m=2<kc(a)?a.b.statusText:""}catch(r){R(a.g,"Can not get status: "+r.message),m=""}a.C=m+" ["+lc(a)+"]";hc(a)}}finally{ic(a)}}},ic=function(a,b){if(a.b){var c=a.b,d=a.K[0]?ca:k;a.b=k;a.K=k;a.n&&(Tb.clearTimeout(a.n),a.n=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(f){a.g.log(Jb,"Problem encountered resetting onreadystatechange: "+f.message,i)}}},kc=function(a){return a.b?
a.b.readyState:0},lc=function(a){try{return 2<kc(a)?a.b.status:-1}catch(b){return a.g.log(Kb,"Can not get status: "+b.message,i),-1}},mc=function(a){if(a.b)return Sb(a.b.responseText)},T=function(a,b){return b+" ["+a.oa+" "+a.U+" "+lc(a)+"]"};var oc=function(a,b){var c=1,d;c instanceof C?(d=c.height,c=c.width):(b==i&&h(Error("missing height argument")),d=b);a.style.width=nc(c);a.style.height=nc(d)},nc=function(a){"number"==typeof a&&(a=Math.round(a)+"px");return a},qc=function(a){var b;a:{b=9==a.nodeType?a:a.ownerDocument||a.document;if(b.defaultView&&b.defaultView.getComputedStyle&&(b=b.defaultView.getComputedStyle(a,k))){b=b.display||b.getPropertyValue("display");break a}b=""}if("none"!=(b||(a.currentStyle?a.currentStyle.display:k)||
a.style&&a.style.display))return pc(a);b=a.style;var c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=pc(a);b.display=c;b.position=f;b.visibility=d;return a},pc=function(a){var b=a.offsetWidth,c=a.offsetHeight,d=G&&!b&&!c;return(b===i||d)&&a.getBoundingClientRect?(b=a.getBoundingClientRect(),E&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop),new C(b.right-b.left,b.bottom-
b.top)):new C(b,c)},U=function(a,b){a.style.display=b?"":"none"};var V=function(a,b,c,d){b=b?"?repo="+b:"";this.za=a;this.Wa=y("%s/source/comments/set%s",a.projectHomeUrl,b);this.Xa=y("%s/source/comments/del%s",a.projectHomeUrl,b);this.Ba=c;this.Aa=d;this.B={};this.G=[[],[]]},rc=function(a){var b=[],c;for(c in a)b.length&&b.push("&"),b.push(pa(c)),b.push("="),b.push(pa(a[c]));return b.join("")},W=function(a,b){(!a||!b)&&h(Error(y("Invalid key components: revisionSpec=%s, line=%s",a,b)));return y("%s-%s",a,b)},sc=function(a,b,c,d,f,e){a.B[W(b,c)]=d;a=a.G[0];for(d=
0;d<a.length;d++)try{a[d](b,c,f,e)}catch(g){h(g)}};V.prototype.get=function(a,b,c){return(a=this.B[W(a,b)])?a:c};V.prototype.set=function(a,b,c){var d=rc({r:this.Ba,p:this.Aa[a],v:a,l:b,c:c,token:this.za.token});if(c==this.B[W(a,b)]){var f=z(c);sc(this,a,b,c,f,d)}else fc(this.Wa,v(this.Za,this),d)};var tc=function(a,b,c){b=rc({r:a.Ba,p:a.Aa[b],v:b,l:c,token:a.za.token});fc(a.Xa,v(a.bb,a),b)};V.prototype.Za=function(a){var a=mc(a.target),b=a.v,c=a.l,d=a.c,f=z(a.c);sc(this,b,c,d,f,a)};
V.prototype.bb=function(a){var b=mc(a.target),a=b.v,b=b.l,c=W(a,b),d=this.B[W(a,b)];delete this.B[c];for(var c=this.G[1],f=0;f<c.length;f++)try{c[f](a,b,d)}catch(e){h(e)}};
var uc=function(){this.Oa={form:'<div class="draft"><div class="header"><span class="title">Draft comment:</span></div><div class="body"><form onsubmit="return false;"><textarea id="$ID">$BODY</textarea><br>$ACTIONS</form></div></div>',draft_comment:'<div class="draft" ondblclick="$ONDBLCLICK"><div class="header"><span class="title">Draft comment:</span><span class="actions">$ACTIONS</span></div><pre id="$ID" class="body">$BODY</pre></div>',published_comment:'<div class="published"><div class="header"><span class="title"><a href="$PROFILE_URL">$AUTHOR:</a></span><div><pre id="$ID" class="body">$BODY</pre></div>',
save_button:"<button name=save type=button onclick='$ONCLICK'>Save</button>",cancel_button:"<button name=cancel type=button onclick='$ONCLICK'>Cancel</button>",discard_button:"<button name=discard type=button onclick='$ONCLICK'>Discard</button>",edit_anchor:"<a href=# onclick='$ONCLICK'>Edit</a>"}},X=function(a,b){a.Oa[b]||h(Error(y('Undefined UI element "%s". Use codereviews.registerLayoutElement("%s", {string}) to define.',b,b)));return a.Oa[b]},vc=function(a,b,c,d,f){c=X(a,"save_button").replace("$ONCLICK",
y('codereviews.saveEdit("%s", %s); return false;',c,d))+X(a,"cancel_button").replace("$ONCLICK",y('codereviews.cancelEdit("%s", %s); return false;',c,d))+(f?X(a,"discard_button").replace("$ONCLICK",y('codereviews.discardComment("%s", %s); return false;',c,d)):"");f=z(f);return X(a,"form").replace("$ID",b).replace("$BODY",f?f:"").replace("$ACTIONS",c)},wc=function(a,b,c,d,f){var e=X(a,"edit_anchor").replace("$ONCLICK",y('codereviews.startEdit("%s", %s); return false;',c,d));return X(a,"draft_comment").replace("$ID",
b).replace("$BODY",f).replace("$ONDBLCLICK",y('codereviews.startEdit("%s", %s); return false;',c,d)).replace("$ACTIONS",e)},xc=function(a,b,c,d){return X(a,"published_comment").replace("$ID",b).replace("$BODY",c).replace("$ONDBLCLICK","").replace("$PROFILE_URL",d.user.profile_url).replace("$AUTHOR",d.user.display_name).replace("$DATE",d.date).replace("$ACTIONS","")},Y=function(a,b,c){this.k=a;this.k.G[0].push(v(this.Ta,this));this.k.G[1].push(v(this.Sa,this));this.Va=b;this.Va.G[0].push(v(this.Ua,
this));this.ya=[[],[],[]];this.f=c(new uc,this,yc)};w("code.reviews.Controller",Y);var yc={REVEAL_DRAFT_PLATE:0,DISCARD_DRAFT_COMMENT:1,REVEAL_PUB_PLATE:2};n=Y.prototype;n.kb=function(a){var b;a:{b=this.f;for(var a=a.target,c=10;a&&0<c--;){var d;b:{d=b;var f=a.id;if(f&&d.W.test(f)&&(d=f.split(d.w),3==d.length)){f={};f.Ya=d[1];f.lineNumber=parseInt(d[2],10);d=f;break b}d=i}if(d){b=d;break a}a=a.parentNode}b=i}b&&this.Da(b.Ya,b.lineNumber);return l};n.Ta=function(a,b,c){this.f.ia(a,b,c)};
n.Ua=function(a,b,c,d){this.f.Ja(a,b,c,d)};n.Sa=function(a,b){this.f.ha(a,b);this.f.ga(a,b)};n.Da=function(a,b){var c=this.k.get(a,b,k);this.f.Ga(a,b,c)};Y.prototype.startEdit=Y.prototype.Da;Y.prototype.nb=function(a,b){lb(document.getElementById(this.f.a(this.f.o,a,b)),j);var c=document.getElementById(this.f.a(this.f.o,a,b)).value;c==k||""==c?tc(this.k,a,b):this.k.set(a,b,c)};Y.prototype.saveEdit=Y.prototype.nb;
Y.prototype.gb=function(a,b){this.f.ha(a,b);var c=this.k.get(a,b,k);c?(c=z(c),this.f.ia(a,b,c)):this.f.ga(a,b)};Y.prototype.cancelEdit=Y.prototype.gb;Y.prototype.ib=function(a,b){tc(this.k,a,b)};Y.prototype.discardComment=Y.prototype.ib;Y.prototype.mb=function(a){tb(a,"dblclick",v(this.kb,this))};Y.prototype.registerSourceContainer=Y.prototype.mb;Y.prototype.lb=function(a,b){this.ya[a].push(b)};Y.prototype.registerActivityListener=Y.prototype.lb;
Y.prototype.Na=function(a,b){var c=this.ya[a];if(c)for(var d=0;d<c.length;d++)try{c[d](b)}catch(f){h(f)}};Y.prototype.notifyListeners=Y.prototype.Na;Y.prototype.ob=function(a,b,c){this.k.B[W(a,b)]=c};Y.prototype.setDraft=Y.prototype.ob;Y.prototype.jb=function(){return this.f};Y.prototype.getView=Y.prototype.jb;w("CR_controller.setup",function(a,b,c,d,f){var e=new V(a,b,c,d),a=new V(a,b,c,d);return new Y(e,a,f)});w("CR_ActivityType",yc);w("CR_getElements",function(a,b,c){return bb(a,b,c)});var zc=function(a,b,c){this.t=a;this.Ra=b;this.u=c;this.w="_";this.o="input";this.X="comment";this.Y="pc";this.D="cc";this.W=k},Z=function(a,b,c,d,f){a.Ra.Na(b,{revisionSpec:c,lineNumber:d,cellId:f})};zc.prototype.a=function(a){for(var b="",c=0;c<arguments.length;c++)b+=(b?this.w:"")+arguments[c];return b};var $=function(a,b,c){zc.call(this,a,b,c);this.$="sl";this.ra="gr";this.Z="pcr";this.ta="pcgc";this.ua="pcgr";this.aa="ccr";this.sa="ccgc";this.ba="ccgr";this.W=RegExp("^"+this.$+this.w+"[a-z]+[0-9a-f]+"+this.w+"[0-9]+$")};x($,zc);n=$.prototype;n.ia=function(a,b,c){var d=Ac(this,a,b);d.innerHTML=wc(this.t,this.a(this.X,a,b),a,b,c);this.da(a,b);Z(this,this.u.REVEAL_DRAFT_PLATE,a,b,d.id)};
n.Ja=function(a,b,c,d){var f=Bc(this,a,b);f.innerHTML+=xc(this.t,this.a(this.X,a,b),c,d);this.xa(a,b);Z(this,this.u.REVEAL_PUB_PLATE,a,b,f.id)};n.ha=function(a,b){var c=Ac(this,a,b);c.innerHTML="";Z(this,this.u.DISCARD_DRAFT_COMMENT,a,b,c.id)};n.Ga=function(a,b,c){Ac(this,a,b).innerHTML=vc(this.t,this.a(this.o,a,b),a,b,c);this.da(a,b);a=document.getElementById(this.a(this.o,a,b));a.focus();a.select&&a.select()};
n.ga=function(a,b){var c=this.a(this.aa,a,b);U(document.getElementById(c),l);c=y("%s_cursor",c);U(document.getElementById(c),l);c=this.a(this.ba,a,b);U(document.getElementById(c),l);c=y("%s_cursor",c);U(document.getElementById(c),l)};
n.da=function(a,b){var c=Ac(this,a,b),d=this.a(this.aa,a,b);U(document.getElementById(d),j);c=qc(c);d=document.getElementById(this.a(this.sa,a,b));if(!d){var f=this.a(this.ba,a,b),d=Cc(document.getElementById(this.a(this.ra,a,b)),f),e=I("td",{id:this.a(this.sa,a,b)}),f=I("tr",{id:f},e);fb(f,d);d=e}oc(d,c.height);d=this.a(this.ba,a,b);U(document.getElementById(d),j)};
n.xa=function(a,b){var c=Bc(this,a,b),d=this.a(this.Z,a,b);U(document.getElementById(d),j);c=qc(c);d=document.getElementById(this.a(this.ta,a,b));if(!d){var f=this.a(this.ua,a,b),d=Cc(document.getElementById(this.a(this.ra,a,b)),f),e=I("td",{id:this.a(this.ta,a,b)}),f=I("tr",{id:f,"class":"ifOpened"},e);fb(f,d);d=e}oc(d,c.height);d=this.a(this.ua,a,b);U(document.getElementById(d),j)};
var Ac=function(a,b,c){var d=document.getElementById(a.a(a.D,b,c));if(!d){var d=a.a(a.Z,b,c),f=document.getElementById(d);f||(d=a.a(a.$,b,c),f=document.getElementById(d));d=a.a(a.aa,b,c);f=Cc(f,d);a=I("td",{id:a.a(a.D,b,c)});b=I("tr",{id:d},a);fb(b,f);d=a}d||h("Failed to find or create comment src cell.");return d},Bc=function(a,b,c){var d=document.getElementById(a.a(a.Y,b,c));if(!d){var f=a.a(a.Z,b,c),d=Cc(document.getElementById(a.a(a.$,b,c)),f),a=I("td",{id:a.a(a.Y,b,c)}),b=I("tr",{id:f,"class":"ifOpened"},
a);fb(b,d);d=a}d||h("Failed to find or create comment src cell.");return d},Cc=function(a,b){var c=y("%s_cursor",b),d=I("td"),c=I("tr",{id:c,"class":"cursor_hidden"},d);fb(c,a);return c};w("CR_BrowseIntegrationFactory",function(a,b,c){return new $(a,b,c)});w("CR_BrowseIntegration",$);w("CR_BrowseIntegration.prototype.revealDraftCommentRow",$.prototype.da);w("CR_BrowseIntegration.prototype.revealPublishedCommentRow",$.prototype.xa);var Dc=function(a,b,c){zc.call(this,a,b,c);this.W=RegExp("^sc"+this.w+"[a-z]+[0-9a-f]+"+this.w+"[0-9]+$")};x(Dc,zc);n=Dc.prototype;n.ia=function(a,b,c){var d=this.a(this.D,a,b),f=document.getElementById(d);f.innerHTML=wc(this.t,this.a(this.o,a,b),a,b,c);U(f.parentNode,j);Z(this,this.u.REVEAL_DRAFT_PLATE,a,b,d)};n.Ja=function(a,b,c,d){var f=document.getElementById(this.a(this.Y,a,b));f.innerHTML+=xc(this.t,this.a(this.X,a,b),c,d);Z(this,this.u.REVEAL_PUB_PLATE,a,b,f.id)};
n.ha=function(a,b){var c=this.a(this.D,a,b);document.getElementById(c).innerHTML="";Z(this,this.u.DISCARD_DRAFT_COMMENT,a,b,c)};n.Ga=function(a,b,c){var d=document.getElementById(this.a(this.D,a,b));d.innerHTML=vc(this.t,this.a(this.o,a,b),a,b,c);U(d.parentNode,j);a=document.getElementById(this.a(this.o,a,b));a.focus();a.select&&a.select()};n.ga=function(){};w("CR_DiffIntegrationFactory",function(a,b,c){return new Dc(a,b,c)});(function(){function a(a){if(a=document.getElementById(a))a.className="opened"==a.className?"closed":"opened"}function b(){a("review_show_hide");a("review_comment_area");return l}w("CR_toggleCommentDisplay",b)})();})()
